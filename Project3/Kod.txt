#include <iostream>
#include <string>
#include <fstream>
#include <algorithm>
#include "windows.h"
#include "time.h"
#include <conio.h>
#define getch() _getch()

using namespace std;

enum Bolesti : unsigned int
{
	Tumori = 1, BolestiNervnogSistema = 2, DusevniPoremecaji = 3, BolestiDisanje = 4
};

struct podaciOdoktorima
{
	string ime;
	string prezime;
	string profesija;
};
struct lijek {
	string ime;
	string proizvodjac;
	int rokTrajanja;
	int rokIsteka;
	int brojacLijeka;
};


void rasporedPosjeta()
{
	cout << endl;
	cout << "===============================================================================" << endl;
	cout << "Dobro dosli na informativni centar nase bolnice. U ovome prozoru mozete vidjeti koji su termini posjeta:" << endl;
	cout << "Odijeljenje 1: 10:00 - 12:00" << endl;
	cout << "Odijeljenje 2: 12:30 - 14:30" << endl;
	cout << "Odijeljenje 3: 15:00 - 17:00" << endl;
	cout << "Molimo Vas da prilikom svake posjete obavijestite recepciju o vasoj posjeti." << endl;
	cout << "Neka pravila ponasanja koje morate da postujete prilikom posjete pacijenata su: " << endl;
	cout << "1. Posjetiocima je strogo zabranjeno sjedenje na bolesnickim krevetima." << endl;
	cout << "2. Prilikom termina posjete pusenje nije dozvoljeno ni pacijentima ni posjetiocima." << endl;
	cout << "3. Djeci mladjoj od 7 godina strogo je zabranjen dolazak u posjetu bolesnicima." << endl;
	cout << "==============================================================================" << endl;
	cout << "Pritisnite ENTER za nastavak..." << endl;
	getchar();
	getchar();

}


void upisUDatotekuPacijenata(string name, string prezime, string bolest, int brojKreveta, int brojDanaUBolnici, char izbor, char uputnica)
{
	ofstream out;
	ofstream pacijenti;
	pacijenti.open("Pacijenti.txt", ios::app);
	out.open("appointment.dat", ios::app);

	if (out) {
		out << izbor << ":" << name.c_str() << prezime.c_str() << bolest.c_str() << "\n";
		out.close();
		if (uputnica == 'Y' || uputnica == 'y')
			cout << "\n Termin zakazan za : " << (izbor - 65) + 9 << " uspjesno !!";
		else if (uputnica == 'N' || uputnica == 'n')
			cout << "\n Termin zakazan za : " << (izbor - 65) + 9 + 2 << " uspjesno (bez uputnice termin koji ste zakazali nema prednost i moze se desiti da se pomjeri) !!";

	}
	if (pacijenti)
	{
		pacijenti << name.c_str() << " " << prezime.c_str() << " " << bolest.c_str() << " " << brojKreveta << " " << brojDanaUBolnici << "\n";
		pacijenti.close();
		if (uputnica == 'Y' || uputnica == 'y')
			cout << "\n Termin koji je bio zakazan za : " << (izbor - 65) + 9 << "  je obalvljen uspjesno !!";
		else if (uputnica == 'N' || uputnica == 'n')
			cout << "\n Termin zakazan za : " << (izbor - 65) + 9 + 2 << " uspjesno (bez uputnice termin koji ste zakazali nema prednost i moze se desiti da se pomjeri) !!";
	}
	else
	{
		cout << "\n Greska tokom spremanja termina !";
	}
}

struct Pacijenti {
	string Ime;
	string Prezime;
	string Bolest;
	string odijeljenje;
	string lijek;
	int brojKreveta;
	int pretpostavka;

	void Ucitavanje(ifstream& datoteka, Pacijenti* p)
	{
		while (datoteka >> p->Ime >> p->Prezime >> p->Bolest >> p->brojKreveta >> p->pretpostavka) {
			p++;
		}
	}
	void IspisSvi(Pacijenti* p, int n) {
		cout << endl;
		cout << "Detalji svih pacijenata u bolnici: " << endl;
		for (int i = 0; i < n; i++) {
			cout << "--------------------------------------------------------" << endl;
			cout << "Ime pacijenta: " << p[i].Ime << endl;
			cout << "Prezime pacijenta: " << p[i].Prezime << endl;
			cout << "Diagnosticirana bolest: " << p[i].Bolest << endl;
			if (p[i].Bolest == "Depresija") {
				cout << "Pacijent se nalazi na odijeljenju za dusevne bolesti" << endl;
			}
			if (p[i].Bolest == "Meningitis") {
				cout << "Pacijent se nalazi na odijeljenju za nervne bolesti " << endl;
			}
			if (p[i].Bolest == "Tumor") {
				cout << "Pacijent se nalazi na odijeljenju za radioterapiju " << endl;
			}
			cout << "Broj kreveta: " << p[i].brojKreveta << endl;
			cout << "Pretpostavlja se da ce ovaj pacijent boraviti u bolnici: " << p[i].pretpostavka << endl;

			cout << "---------------------------------------------------------" << endl;
		}

	}

};

int BrojPacijenata(ifstream& datoteka)
{
	string temp;
	int brojLinija = 0;

	while (getline(datoteka, temp))
	{
		brojLinija++;
	}
	return brojLinija;
}
Pacijenti ispisPacijenata() {
	int n = 0;
	ifstream datoteka;
	datoteka.open("Pacijenti.txt");
	if (datoteka.fail()) {
		cout << "Greska! " << endl;
	}
	Pacijenti* pd = 0;
	n = BrojPacijenata(datoteka);
	datoteka.clear();
	datoteka.seekg(ios::beg);
	pd = new Pacijenti[n];
	pd->Ucitavanje(datoteka, pd);
	pd->IspisSvi(pd, n);

	cout << "Pritisnite ENTER za nastavak...";
	getchar();
	getchar();
	return *pd;
}


void unosLijeka() {
	lijek rez[100];
	int brojac = 0;
	cout << "Koliko lijekova zelite unijeti" << endl;
	cin >> brojac;
	for (int i = 0; i < brojac; i++) {
		cout << "\nUnesi ime lijeka:" << endl;
		cin >> rez[i].ime;
		cout << "Unesi proivodjaca:" << endl;
		cin >> rez[i].proizvodjac;
		cout << "Unesi rok trajanja:" << endl;
		cin >> rez[i].rokTrajanja;
		cout << "Unesi datum isteka lijeka:" << endl;
		cin >> rez[i].rokIsteka;
		cout << "Unesite koliko zaliha lijeka zelite poruciti: " << endl;
		cin >> rez[i].brojacLijeka;
	}

	ofstream fout("lijekovi.txt", ios::app);

	if (fout.fail())
	{
		cout << "Ne postojeca datoteka";
		exit(1);
	}
	else {
		for (int i = 0; i < brojac; i++) {
			fout << rez[i].ime << " " << rez[i].proizvodjac << " " << rez[i].rokTrajanja << " " << rez[i].rokIsteka << " " << rez[i].brojacLijeka << endl;
		}
	}
	cout << "Pritisnite ENTER za izlazak...";
	getchar();
	getchar();
	
}
lijek pregled_lijekova() {
	lijek var[100];
	int brojlijekova = 0;
	int broj_isteknutog_roka = 0;
	ifstream fin("lijekovi.txt");
	fin.seekg(0);
	if (fin.fail())
	{
		cout << "Ne postojeca datoteka";
		exit(1);
	}
	else {
		while (fin >> var[brojlijekova].ime >> var[brojlijekova].proizvodjac >> var[brojlijekova].rokTrajanja >> var[brojlijekova].rokIsteka >> var[brojlijekova].brojacLijeka) {
			brojlijekova++;
		}

		cout << "Lijekovi koje bolnica posjeduje su:" << brojlijekova << endl;
		for (int i = 0; i < brojlijekova; i++) {
			cout << "Ime lijeka: " << var[i].ime << endl;
			cout << "Proizvodjac lijeka: " << var[i].proizvodjac << endl;
			cout << "Rok trajanja lijeka: " << var[i].rokTrajanja << endl;
			cout << "Rok isteka lijeka: " << var[i].rokIsteka << endl;
			cout << "Zalihe lijeka: " << var[i].brojacLijeka << endl;
		}

		for (int i = 0; i < brojlijekova; i++) {
			if (var[i].rokIsteka >= 4 && var[i].rokIsteka <= 5) {
				broj_isteknutog_roka++;
			}
		}
		cout << "Isteknutih ima: " << broj_isteknutog_roka << endl;
	}
	cout << "Pritisnite ENTER za izlazak...";
	getchar();
	getchar();
	return *var;
}

void meniLijekova()
{
	int odabir;
	lijek meni;
	cout << endl;
	cout << "1. Unesi lijek" << endl;
	cout << "2. Pregled lijekova" << endl;

	cout << "Odaberi MENI: " << endl;
	cin >> odabir;


	switch (odabir) {
	case 1: {
		unosLijeka();
		break;
	}
	case 2: {
		pregled_lijekova();
		break;
	}
	}
}

int upisLijekovaDoktori(int count)
{
	string ime;
	int karakterPassworda = 0;
	string sifra = "";
	if (count == 3)
	{
		cout << endl;
		cout << "Dobrodosli u sistem za unos lijekova, doktore" << endl;
		cout << "Prije nego sto zapocnete sa procesom unosa lijekova, molimo Vas unesite vase podatke" << endl;
		cout << "Unesite Vas username: ";
		cin >> ime;
		cout << endl;
		cout << "Vasa sifra je: ";
	}
	else if (count == 2 || count == 1)
	{
		int karakterPassworda = 0;
		cout << "Ukucajte ponovo svoje ime: ";
		cin >> ime;
		cout << "Ukucajte ponovo svoju sifru: ";

	}
	if (count == 0)
	{
		cout << "Pogrijesili ste vise nego sto treba, program se gasi" << endl;
		cout << "Pritisnite ENTER za izlazak...";
		getchar();
		getchar();
		return 0;
	}
	else
	{
		while (karakterPassworda = getch())
		{
			if (karakterPassworda == 13)
			{
				
				if ((sifra == "meris" || sifra == "samed" || sifra == "ahmed") && (ime == "Meris123" || ime == "Samed123" || ime == "Ahmed123")) {
					cout << endl << endl << "======================================" << endl;
					cout << "\t Dobrodosli " << ime << endl;
					meniLijekova();
					break;
				}
				else
				{
					cout << "\n Pogresno unesen username i sifra, pokusajte ponovo! \n\n";
					cout << "Imate " << count - 1 << " pokusaja" << endl;
					sifra = "";
					upisLijekovaDoktori(count - 1);
					break;

				}

			}
			else if (karakterPassworda == 8) { //provjera karaktera ako je korisnik pritisnuo BACKSPACE 
				if (sifra.length() > 0) {
					cout << "\b \b"; //brisanje duzine maske
					sifra.erase(sifra.length() - 1); 
				}
			}
			else {
				cout << "*";
				sifra += karakterPassworda; //svi karakteri dodjeljeni varijabli sifra
			}
		}

	}
	return 0;
}


struct knjizica
{
	string ime;
	string prezime;
	long long int JMBG;
	string mjesto;
};

void zdrastvenaKnjizica()
{
	system("cls");
	ofstream upisKnjizica("knjizica.txt", ios::app);
	knjizica upis[100];

	for (int i = 0; i < 1; i++)
	{
		cout << "Unesite svoje ime: ";
		cin >> upis[i].ime;
		cout << endl;
		cout << "Unesite svoje prezime: ";
		cin >> upis[i].prezime;
		cout << endl;
		cout << "Unesite svoj JMBG: ";
		cin >> upis[i].JMBG;
		cout << endl;
		cout << "Unesite mjesto rodjenja: ";
		cin >> upis[i].mjesto;
		cout << endl;

	}

	for (int i = 0; i < 1; i++)
	{
		cout << endl;
		upisKnjizica << upis[i].ime << " " << upis[i].prezime << " " << upis[i].JMBG << " " << upis[i].mjesto << endl;

	}
	cout << "\n Pritisnite ENTER za nastavak...";
	getchar();
	getchar();
}

int detaljiODoktorima()
{
	system("cls");
	ifstream citanjeDoktora;

	citanjeDoktora.open("citanjedoktora.txt");

	if (citanjeDoktora.fail())
	{
		cout << "Nepostojeca datoteka";
		exit(1);
	}
	knjizica knjizicePacijenata[100];
	podaciOdoktorima doktori[100];
	int brojDoktora = 0;
	int brojKnjizica = 0;

	while (citanjeDoktora >> doktori[brojDoktora].ime >> doktori[brojDoktora].prezime >> doktori[brojDoktora].profesija)
	{
		brojDoktora++;
	}

	cout << "----- Imena doktora i njihove profesije -----" << endl;
	cout << "---------------------------------------------" << endl;
	citanjeDoktora.seekg(0);
	for (int i = 0; i < brojDoktora; i++)
	{
		cout << "Ime " << i + 1 << ". doktora: " << doktori[i].ime << endl;
		cout << "Prezime " << i + 1 << ". doktora: " << doktori[i].prezime << endl;
		cout << "Profesija " << i + 1 << ". doktora: " << doktori[i].profesija << endl;
		cout << "------------------------------------------" << endl;
		cout << endl;
	}

	cout << "\n Pritisnite ENTER za nastavak..";

	getchar();
	getchar();

	return 0;
}
int zakazatiTermin()
{

	cout << "\n ----- Molimo da zakazete Vas termin ---- \n";
	cout << "\n ----- Slobodni termini ---- \n";


	ifstream citanje;
	citanje.open("appointment.dat");

	int hoursbook = 8;

	int arr[13] = { 0,0,0,0,0,0,0,0,0,0,0,0,0 };
	int pronadjenTermin = 0;

	if (citanje)
	{
		string linija;
		char termin = 'A';
		int i = 9;

		while (getline(citanje, linija)) {
			char temp = linija[0];
			int index = (temp - 65);
			arr[index] = 1;
			pronadjenTermin = 1;
		}
		if (pronadjenTermin == 1)
		{
			cout << "\n Termini sortirani po satima :";
			char termin = 'A';
			int sati = 9;
			for (int i = 0; i <= 12; i++)
			{
				if (i == 0) {
					if (arr[i] == 0)
						cout << "\n " << termin << "-> 0" << sati << " - Slobodan";
					else
						cout << "\n " << termin << "-> 0" << sati << " - Zauzet";
				}

				else
				{
					if (arr[i] == 0)
						cout << "\n " << termin << "->" << sati << " - Slobodan";
					else
						cout << "\n " << termin << "->" << sati << " - Zauzet";
				}
				sati++; termin++;
			}

		}

		citanje.close();
	}
	if (pronadjenTermin == 0) {
		cout << "\n Termin slobodan za iduce sate :";
		char termin = 'A';
		for (int i = 9; i <= 21; i++)
		{
			if (i == 9)
				cout << "\n " << termin << " -> 0" << i << " - Slobodan";
			else
				cout << "\n " << termin << " -> " << i << " - Slobodan";
			termin++;
		}

	}

	char izbor;
	cout << "\n\n Molimo Vas upisite naziv termina koji je oznacen sa velikim slovom abecede : ";
	cin >> izbor;

	if (!(izbor >= 'A' && izbor <= 'Z'))
	{
		cout << "\n Greska! Pogresan odabir";
		cout << "\n Molimo odaberite isparavan termin iz menija A-Z";
		cout << "\n Pritisnite ENTER za nastavak";
		getchar();
		getchar();
		system("cls");
		zakazatiTermin();
	}

	int index = (izbor - 65);
	int zakazan = 1;
	if (arr[index] == 0)
		zakazan = 0;

	if (zakazan == 1)
	{
		cout << "\n Greska! Termin je vec zakazan u tom vremenskom periodu.";
		cout << "\n Molimo odaberite drugi termin !!";
		cout << "\n Pritisnite ENTER za nastavak !!";
		getchar();
		getchar();
		system("cls");
		zakazatiTermin();
	}
	ifstream citanjeKnjizica;
	ifstream citanje1;
	ifstream fin;
	fin.open("lijekovi.txt");
	citanjeKnjizica.open("knjizica.txt");
	citanje1.open("citanjedoktora.txt");
	int brojDoktora = 0;
	int brojKnjizica = 0;
	int brojlijekova = 0;
	lijek var[100];
	podaciOdoktorima doktoriNovi[100];
	knjizica knjizicePacijenata[100];
	int j = 0;
	while (citanje1 >> doktoriNovi[brojDoktora].ime >> doktoriNovi[brojDoktora].prezime >> doktoriNovi[brojDoktora].profesija)
	{
		brojDoktora++;
	}
	while (citanjeKnjizica >> knjizicePacijenata[brojKnjizica].ime >> knjizicePacijenata[brojKnjizica].prezime >> knjizicePacijenata[brojKnjizica].JMBG >> knjizicePacijenata[brojKnjizica].mjesto)
	{
		brojKnjizica++;

	}
	while (fin >> var[brojlijekova].ime >> var[brojlijekova].proizvodjac >> var[brojlijekova].rokTrajanja >> var[brojlijekova].rokIsteka) {
		brojlijekova++;
	}
	string name, prezime;
	string ime1, prezime1;
	Bolesti TumorBolesti;
	TumorBolesti = Tumori;
	Bolesti NervnogSistema;
	NervnogSistema = BolestiNervnogSistema;
	Bolesti Dusevni;
	Dusevni = DusevniPoremecaji;
	Bolesti BolestiSistemaZaDisanje;
	BolestiSistemaZaDisanje = BolestiDisanje;
	int odabranaBolest;
	char uputnica;
	char knjizicaValidnost;
	char sistem;
	cout << "\n Upisite svoje ime: ";
	cin >> name;
	cout << "\n Upisite svoje prezime: ";
	cin >> prezime;
	cout << endl;
	cout << "Da li imate uputnicu ? (Y - ako imate, N - ako nemate): ";
	cin >> uputnica;
	cout << "Da li imate knjizicu? (Y - ako imate , N - ako nemate): ";
	cin >> knjizicaValidnost;
	if (knjizicaValidnost == 'Y' || knjizicaValidnost == 'y')
	{
		string ime2;
		string prezime2;
		long long int JMBG2;
		string mjesto;
		cout << "Da li ste unijeli prethodno svoju knjizicu u nas elektronski sistem (Y - ako jeste , N - ako niste): ";
		cin >> sistem;
		cout << endl;
		if (sistem == 'Y' || sistem == 'y')
		{
			cout << "---- Sada cemo provjeriti Vasu knjizicu, molimo pricekajte par trenutaka ----" << endl;
			Sleep(5000);
			cout << "Molimo Vas, unesite ponovo svoje podatke kako bi provjerili vjerodostojnost istih " << endl;
			cout << "--------------------------------" << endl;
			cout << "Unesite Vase ime: ";
			cin >> ime2;
			cout << endl;
			cout << "Unesite Vase prezime: ";
			cin >> prezime2;
			cout << endl;
			cout << "Unesite Vas JMBG: ";
			cin >> JMBG2;
			cout << endl;
			cout << "Unesite Vase mjesto rodjenja: ";
			cin >> mjesto;
			bool success1 = false;
			do
			{
				success1 = find_if(knjizicePacijenata, knjizicePacijenata + brojKnjizica,
					[&](const knjizica& d)
					{
						return d.ime == ime2 && d.prezime == prezime2 && d.JMBG == JMBG2 && d.mjesto == mjesto;
					}) != knjizicePacijenata + brojKnjizica;

				if (not success1)
				{
					cout << "Vasi unijeti podaci nisu validni i ne poklapaju se sa nasim podacima iz sistema ! " << endl;
					cout << "\n Pritisnite ENTER za nastavak...";
					getchar();
					getchar();
					return 0;
				}
			} while (not success1);
		}
		else
		{
			cout << "Molimo vas unesite podatke o Vasoj knjizici u nas elektorniski sistem" << endl;
			cout << "\n Pritisnite ENTER za nastavak..";

			getchar();
			getchar();

			return 0;
		}

	}
	else if (knjizicaValidnost == 'N' || knjizicaValidnost == 'n')
	{
		cout << "Bez knjizice ne mozete zakazati termin kod doktora. zao nam je." << endl;
		cout << "\n Pritisnite ENTER za nastavak..";

		getchar();
		getchar();

		return 0;
	}
	cout << "Molimo sacekajte" << endl;
	Sleep(5000);
	system("cls");
	cout << "Vasi podaci se poklapaju sa podacima koji ste unijeli u sistem. Mozete nastaviti dalje" << endl;
	cout << "Na osnovu primjecenih simptoma, odaberite grupu za vasu bolest: ";
	cout << TumorBolesti << ". Tumori" << endl;
	cout << NervnogSistema << ". Bolesti nervnog sistema " << endl;
	cout << Dusevni << ". Dusevni " << endl;
	cout << BolestiSistemaZaDisanje << ". Bolesti sistema za disanje " << endl;
	cout << "Odaberite grupu: ";
	cin >> odabranaBolest;
	if (odabranaBolest == TumorBolesti)
	{
		cout << "\nIme i prezime dostupnih doktora na osnovu grupe: " << endl;
		cout << "--------------------------------------" << endl;
		string temp1;
		string temp2;
		citanje1.clear();
		citanje1.seekg(0);
		for (int i = 0; i < brojDoktora; i++)
		{

			if (doktoriNovi[i].profesija == "Hirurg")
			{
				cout << "Ime " << i + 1 << ". doktora: " << doktoriNovi[i].ime << endl;
				cout << "Prezime " << i + 1 << ". doktora: " << doktoriNovi[i].prezime << endl;
				cout << "Profesija " << i + 1 << ". doktora: " << doktoriNovi[i].profesija << endl;
				cout << "------------------------------------------" << endl;
				cout << endl;
			}

		}

		cout << "Unesite ime doktora koji zeli da Vas lijeci: ";
		cin >> ime1;
		cout << "Unesite prezime doktora koji zeli da Vas lijeci: ";
		cin >> prezime1;
		bool success = false;
		do
		{
			success = find_if(doktoriNovi, doktoriNovi + brojDoktora,
				[&](const podaciOdoktorima d)
				{
					return d.ime == ime1 && d.prezime == prezime1;
				}) != doktoriNovi + brojDoktora;

			if (not success)
			{
				cout << "Ne postoji unijeto ime i prezime doktora. Ukucajte ponovo: ";
				cin >> ime1 >> prezime1;
			}
		} while (not success);
		system("cls");
		int brojDana;
		char prijavaDoktora;
		char stanje;
		char simptomi;
		cout << "Sada cemo Vam postaviti nekoliko pitanja vezanih za Vase primjecene simptome" << endl;
		cout << "1. Koliko dana primjecujete svoje simptome:  ";
		cin >> brojDana;
		cout << "2. Da li ste se javili doktoru kada ste primjetili simptome tumora (Y - za da || N - za ne): ";
		cin >> prijavaDoktora;
		cout << "3. Da li je Vase stanje pogorsano sto se tice problema sa tumorom u zadnjih par dana (Y - za da || N - za ne): ";
		cin >> stanje;
		cout << "4. Da li ste imali problema sa gutanjem, mokrenjem, cirom, ili nekom ranom koja ne zacjeljuje (Y - za da || N - za ne):";
		cin >> simptomi;
		cout << endl;
		cout << "Molimo sacekajte rezultate nalaza";
		Sleep(5000);
		string bolest = "Tumor";
		int brojDanaUBolnici = rand() % 10 + 1;
		int brojKreveta = rand() % 100 + 1;
		if (prijavaDoktora == 'Y' && stanje == 'Y' && simptomi == 'Y')
		{
			cout << "Na osnovu analize doktora procjenili smo da je potrebno da ostanete " << brojDanaUBolnici << ". dana u bolnici";
			cout << "Vas broj kreveta u Odjeljenju za radioterapiju je " << brojKreveta;
			upisUDatotekuPacijenata(name, prezime, bolest, brojKreveta, brojDanaUBolnici, izbor, uputnica);
		}
		else
		{
			cout << "Na osnovu analize doktora procjenili smo da Vas boravak u nasoj bolnici nije potreban, te da cemo Vam preporuciti da samo pijete lijekove ";
			cout << "Lijek koji morate koristiti je: ";
			for (int i = 0; i < brojlijekova; i++)
			{
				if (var[i].ime == "Ecansya")
					cout << var[i].ime;
				cout << "Prethodna zaliha ovog lijeka: " << var[i].brojacLijeka << endl;
				var[i].brojacLijeka -= 1;
				cout << "Trenutna zaliha ovog lijeka: " << var[i].brojacLijeka << endl;
			}

		}

	}
	else if (odabranaBolest == NervnogSistema)
	{
		cout << "\nIme i prezime dostupnih doktora na osnovu grupe: " << endl;
		cout << "--------------------------------------" << endl;
		string temp1;
		string temp2;
		citanje1.clear();
		citanje1.seekg(0);
		for (int i = 0; i < brojDoktora; i++)
		{
			if (doktoriNovi[i].profesija == "Neurohirurg")
			{
				cout << "Ime " << i + 1 << ". doktora: " << doktoriNovi[i].ime << endl;
				cout << "Prezime " << i + 1 << ". doktora: " << doktoriNovi[i].prezime << endl;
				cout << "Profesija " << i + 1 << ". doktora: " << doktoriNovi[i].profesija << endl;
				cout << "------------------------------------------" << endl;
				cout << endl;
			}

		}

		cout << "Unesite ime doktora koji zeli da Vas lijeci: ";
		cin >> ime1;
		cout << "Unesite prezime doktora koji zeli da Vas lijeci: ";
		cin >> prezime1;
		bool success = false;
		do
		{
			success = find_if(doktoriNovi, doktoriNovi + brojDoktora,
				[&](const podaciOdoktorima d)
				{
					return d.ime == ime1 && d.prezime == prezime1;
				}) != doktoriNovi + brojDoktora;

			if (not success)
			{
				cout << "Ne postoji unijeto ime i prezime doktora. Ukucajte ponovo: ";
				cin >> ime1 >> prezime1;
			}
		} while (not success);
		system("cls");
		int brojDana;
		char prijavaDoktora;
		char stanje;
		char simptomi;
		cout << "Sada cemo Vam postaviti nekoliko pitanja vezanih za Vase primjecene simptome" << endl;
		cout << "1. Koliko dana primjecujete svoje simptome:  ";
		cin >> brojDana;
		cout << "2. Da li ste se javili doktoru kada ste primjetili simptome bolesti nervnog sistema (Y - za da || N - za ne): ";
		cin >> prijavaDoktora;
		cout << "3. Da li se Vase stanje pogorsalo u zadnjih par dana (Y - za da || N - za ne): ";
		cin >> stanje;
		cout << "4. Da li ste imali problema sa osjetljivosti na svjetlost, nemirom, bolom u vratu, poremacaju govora ili slicno (Y - za da || N - za ne): ";
		cin >> simptomi;
		cout << "Molimo sacekajte za rezultat nalaza";
		cout << endl;
		Sleep(5000);
		string bolest = "Meningitis";
		int brojDanaUBolnici = rand() % 10 + 1;
		int brojKreveta = rand() % 100 + 1;
		if (prijavaDoktora == 'Y' && stanje == 'Y' && simptomi == 'Y')
		{
			cout << "Na osnovu analize doktora procjenili smo da je potrebno da ostanete " << brojDanaUBolnici << ". dana";
			cout << "Vas broj kreveta u Odjeljenju za nervne bolesti je " << brojKreveta;;
			upisUDatotekuPacijenata(name, prezime, bolest, brojKreveta, brojDanaUBolnici, izbor, uputnica);
		}
		else
		{
			cout << "Na osnovu analize doktora procjenili smo da Vas boravak u nasoj bolnici nije potreban, te da cemo Vam preporuciti da samo pijete lijekove ";
			cout << "Lijek koji morate koristiti je: ";
			for (int i = 0; i < brojlijekova; i++)
			{
				if (var[i].ime == "Andol")
				{
					cout << var[i].ime << endl;
					cout << "Prethodna zaliha ovog lijeka: " << var[i].brojacLijeka << endl;
					var[i].brojacLijeka -= 1;
					cout << "Trenutna zaliha ovog lijeka: " << var[i].brojacLijeka << endl;
				}
				else if (var[i].brojacLijeka = 0)
				{
					cout << "Andol, ali nazalost, ponestalo je zaliha ovog lijeka" << endl;
				}
			}

		}
	}
	else if (odabranaBolest == Dusevni)
	{
		cout << "\nIme i prezime dostupnih doktora na osnovu grupe: " << endl;
		cout << "--------------------------------------" << endl;
		string temp1;
		string temp2;
		citanje1.clear();
		citanje1.seekg(0);
		for (int i = 0; i < brojDoktora; i++)
		{
			if (doktoriNovi[i].profesija == "Psiholog")
			{
				cout << "Ime " << i + 1 << ". doktora: " << doktoriNovi[i].ime << endl;
				cout << "Prezime " << i + 1 << ". doktora: " << doktoriNovi[i].prezime << endl;
				cout << "Profesija " << i + 1 << ". doktora: " << doktoriNovi[i].profesija << endl;
				cout << "------------------------------------------" << endl;
				cout << endl;
			}

		}

		cout << "Unesite ime doktora koji zeli da Vas lijeci: ";
		cin >> ime1;
		cout << "Unesite prezime doktora koji zeli da Vas lijeci: ";
		cin >> prezime1;
		bool success = false;
		do
		{
			success = find_if(doktoriNovi, doktoriNovi + brojDoktora,
				[&](const podaciOdoktorima d)
				{
					return d.ime == ime1 && d.prezime == prezime1;
				}) != doktoriNovi + brojDoktora;

			if (not success)
			{
				cout << "Ne postoji unijeto ime i prezime doktora. Ukucajte ponovo: ";
				cin >> ime1 >> prezime1;
			}
		} while (not success);
		system("cls");
		int brojDana;
		char prijavaDoktora;
		char stanje;
		char simptomi;
		char pomoc;
		ifstream fin;
		fin.open("lijekovi.txt");
		int brojlijekova = 0;
		lijek var[100];
		while (fin >> var[brojlijekova].ime >> var[brojlijekova].proizvodjac >> var[brojlijekova].rokTrajanja >> var[brojlijekova].rokIsteka) {
			brojlijekova++;
		}
		cout << "Sada cemo Vam postaviti nekoliko pitanja vezanih za Vase primjecene simptome" << endl;
		cout << "1. Koliko dana primjecujete svoje simptome:  ";
		cin >> brojDana;
		cout << "2. Da li ste se javili doktoru kada ste primjetili simptome depresije (Y - za da || N - za ne): ";
		cin >> prijavaDoktora;
		cout << "3. Da li se Vasa depresija pogorsala u zadnjih par dana (Y - za da || N - za ne): ";
		cin >> stanje;
		cout << "4. Da li ste primjetili promjene u ponasanju tokom depresije (Y - za da || N - za ne):  ";
		cin >> simptomi;
		cout << "5. Jeste li pronasli pomoc u krugu porodice (Y - za da || N - za ne): ";
		cin >> pomoc;
		cout << "Molimo sacekajte za rezultat nalaza";
		Sleep(5000);
		string bolest = "Depresija";
		int brojDanaUBolnici = rand() % 30 + 1;
		int brojKreveta = rand() % 100 + 1;
		Sleep(5000);
		if (brojDana > 1 && prijavaDoktora == 'Y' && stanje == 'Y' && simptomi == 'Y' && pomoc == 'Y' || pomoc == 'N')
		{
			cout << "Na osnovu analize doktora procjenili smo da je potrebno da ostanete " << brojDanaUBolnici;
			cout << ", a vas broj kreveta u Odjeljenju za nervne bolesti je " << brojKreveta;
			ofstream out;
			ofstream pacijenti;
			pacijenti.open("Pacijenti.txt", ios::app);
			out.open("appointment.dat", ios::app);
			upisUDatotekuPacijenata(name, prezime, bolest, brojKreveta, brojDanaUBolnici, izbor, uputnica);

		}
		else
		{
			cout << "Na osnovu analize doktora procjenili smo da Vas boravak u nasoj bolnici nije potreban, te da cemo Vam preporuciti da samo pijete lijekove ";
			cout << "Lijek koji morate koristiti je: ";
			for (int i = 0; i < brojlijekova; i++)
			{
				if (var[i].ime == "Alventa")
					cout << var[i].ime;
				cout << "Prethodna zaliha ovog lijeka: " << var[i].brojacLijeka << endl;
				var[i].brojacLijeka -= 1;
				cout << "Trenutna zaliha ovog lijeka: " << var[i].brojacLijeka << endl;
			}

		}
	}



	cout << "\n Pritisnite ENTER za nastavak...";
	getchar();
	getchar();
	return 0;
}




int main()
{
	int count = 3;
	while (true)
	{
		system("cls");
		cout << "\t\t\t";
		cout << char(218);
		for (int i = 0; i < 25; i++)
		{
			cout << char(196);
		}
		cout << char(191) << endl;
		cout << "\t\t\t" << char(179) << "         MENU            " << char(179) << endl;
		cout << "\t\t\t" << char(192);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(217) << endl;
		cout << "\t\t\t";
		cout << char(218);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(191) << endl;
		cout << "\t\t\t" << char(179) << "1. Prijavi pacijenta     " << char(179) << endl;
		cout << "\t\t\t" << char(192);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(217) << endl;
		cout << "\t\t\t";
		cout << char(218);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(191) << endl;
		cout << "\t\t\t" << char(179) << "2. Detalji o pacijentima " << char(179) << endl;
		cout << "\t\t\t" << char(192);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(217) << endl;
		cout << "\t\t\t";
		cout << char(218);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(191) << endl;
		cout << "\t\t\t" << char(179) << "3. Detalji o doktorima   " << char(179) << endl;
		cout << "\t\t\t" << char(192);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(217) << endl;
		cout << "\t\t\t";
		cout << char(218);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(191) << endl;
		cout << "\t\t\t" << char(179) << "4. Raspored posjeta      " << char(179) << endl;
		cout << "\t\t\t" << char(192);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(217) << endl;
		cout << "\t\t\t";
		cout << char(218);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(191) << endl;
		cout << "\t\t\t" << char(179) << "5. Pregled lijekova      " << char(179) << endl;
		cout << "\t\t\t" << char(192);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(217) << endl;
		cout << "\t\t\t";
		cout << char(218);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(191) << endl;
		cout << "\t\t\t" << char(179) << "6. Dodaj knjizicu        " << char(179) << endl;
		cout << "\t\t\t" << char(192);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(217) << endl;
		cout << "\t\t\t";
		cout << char(218);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(191) << endl;
		cout << "\t\t\t" << char(179) << "        7. IZLAZ         " << char(179) << endl;
		cout << "\t\t\t" << char(192);
		for (int i = 0; i < 25; i++) { cout << char(196); }
		cout << char(217) << endl;


		int choice;
		cout << "\t\t\t";
		cout << "Unesite broj koji zelite: ";
		cin >> choice;

		switch (choice)
		{
		case 1: {
			cout << char(254);
			for (int i = 0; i < 34; i++)
			{
				cout << char(254);
			}
			system("cls");
			cout << endl;
			cout << "	1. Prijava pacijenta 		" << endl;
			for (int i = 0; i < 35; i++) { cout << char(254); }
			zakazatiTermin();
			break;
		}

		case 2: {
			cout << char(254);
			for (int i = 0; i < 34; i++)
			{
				cout << char(254);
			}
			system("cls");
			cout << endl;
			cout << "	2. Detalji o pacijentima 		" << endl;
			for (int i = 0; i < 35; i++) { cout << char(254); }
			ispisPacijenata();
			break;
		}

		case 3: {
			cout << char(254);
			for (int i = 0; i < 34; i++)
			{
				cout << char(254);
			}
			system("cls");
			cout << endl;
			cout << "	3. Detalji o doktorima		" << endl;
			for (int i = 0; i < 35; i++) { cout << char(254); }
			detaljiODoktorima();
			break;
		}

		case 4: {
			cout << char(254);
			for (int i = 0; i < 34; i++)
			{
				cout << char(254);
			}
			system("cls");
			cout << endl;
			cout << "	4. Raspored posjeta		 " << endl;
			for (int i = 0; i < 35; i++) { cout << char(254); }
			rasporedPosjeta();
			break;
		}


		case 5: {
			cout << char(254);
			for (int i = 0; i < 34; i++)
			{
				cout << char(254);
			}
			system("cls");

			cout << endl;
			cout << "	5. Pregled lijekova			" << endl;
			for (int i = 0; i < 35; i++) { cout << char(254); }
			upisLijekovaDoktori(count);
			break;
		}

		case 6: {
			cout << char(254);
			for (int i = 0; i < 34; i++)
			{
				cout << char(254);
			}
			system("cls");
			cout << endl;
			cout << "6. Dodavanje zdrastvene knjizice " << endl;
			for (int i = 0; i < 35; i++) { cout << char(254); }
			zdrastvenaKnjizica();
			break;
		}
		case 7: {

			system("pause>0");
			while (true)
			{
				system("cls");
				cout << "\n Da li ste sigurni da zelite izaci ? y | n \n";
				char ex;
				cin >> ex;
				if (ex == 'y' || ex == 'Y')
					exit(0);
				else if (ex == 'n' || ex == 'N')
				{
					break;
				}
				else {
					cout << "\n Pogresan odabir !!!";
					getchar();
				}
			}	break;

		default: cout << "\n Pogresan odabir, pokusajte ponovo ";
			getchar();

		}

		}

	}
}